(function(t){function e(e){for(var i,o,a=e[0],u=e[1],c=e[2],d=0,f=[];d<a.length;d++)o=a[d],s[o]&&f.push(s[o][0]),s[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==s[u]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"3c6b":function(t,e,n){"use strict";var i=n("a292"),s=n.n(i);s.a},"46e6":function(t,e,n){"use strict";var i=n("d512"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-header"),t.isAuditionInProgress?n("audition"):t.isAuditionFinished?n("audition-results"):n("audition-config")],1)},r=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"hero is-primary is-bold"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"title is-1"},[t._v("Number audition")]),n("h2",{staticClass:"subtitle is-5"},[t._v("Number audition is a tool to master hearing ability of numbers in different languages using TTS techonology built-in in the browser with the help of\n          "),n("u",[n("a",{attrs:{href:"https://responsivevoice.org/"}},[t._v("ResponsiveVoice Text To Speech API")])])])])])])])}],u=n("2877"),c={},l=Object(u["a"])(c,o,a,!1,null,null,null),d=l.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"container app-container"},[n("div",{staticClass:"app-content"},[n("b-field",{attrs:{label:"Maximum number",message:t.errors.maximumNumber,type:t.errors.maximumNumber&&"is-danger"}},[n("b-input",{attrs:{placeholder:"Maximum number",type:"number"},model:{value:t.maximumNumber,callback:function(e){t.maximumNumber=e},expression:"maximumNumber"}})],1),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"box"},[n("b-field",{attrs:{label:"Speed"}}),t._l(t.speeds,function(e){return n("b-field",{key:e.value},[n("b-radio",{attrs:{"native-value":e.value},model:{value:t.speed,callback:function(e){t.speed=e},expression:"speed"}},[t._v(t._s(e.name))])],1)})],2)]),n("div",{staticClass:"column"},[n("div",{staticClass:"box"},[n("b-field",{attrs:{label:"Count"}}),t._l(t.counts,function(e){return n("b-field",{key:e},[n("b-radio",{attrs:{"native-value":e},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}},[t._v(t._s(e))])],1)})],2)]),n("div",{staticClass:"column"},[n("div",{staticClass:"box"},[n("b-field",{attrs:{label:"Delay"}}),t._l(t.delays,function(e){return n("b-field",{key:e},[n("b-radio",{attrs:{"native-value":e},model:{value:t.delay,callback:function(e){t.delay=e},expression:"delay"}},[t._v(t._s(e)+"s")])],1)})],2)])]),n("b-field",{attrs:{label:"Voice",message:t.errors.voice,type:t.errors.voice&&"is-danger"}},[n("b-select",{attrs:{placeholder:"Select voice"},model:{value:t.voice,callback:function(e){t.voice=e},expression:"voice"}},t._l(t.availableVoices,function(e){return n("option",{key:e},[t._v(t._s(e))])}),0)],1),n("div",{staticClass:"button-container"},[n("button",{staticClass:"button is-primary is-medium",attrs:{disabled:!t.configValid},on:{click:t.startAudition}},[t._v("START")])])],1)])])},m=[],p=(n("7f7f"),n("8bd2")),v=n.n(p),h=n("e814"),b=n.n(h),g=[{value:"slow",name:"Slow"},{value:"normal",name:"Normal"},{value:"fast",name:"Fast"}],_={data:function(){return{errors:{maximumNumber:"",voice:""},speeds:g,counts:[10,20,30],delays:[2,3,4]}},methods:{startAudition:function(){var t,e=this.count,n=this.maximumNumber;t="fast"===this.speed?1.5:"slow"===this.speed?.5:1;for(var i=Array(e),s=0;s<e;s++)i[s]={index:s,number:""+Math.floor(Math.random()*n+.5),answer:""};var r={entries:i,voice:this.voice,speed:t,delay:this.delay,isStarted:!0,isFinished:!1};this.$store.commit("startAudition",r)}},computed:{maximumNumber:{get:function(){var t=this.$store.state.config.maximumNumber;return 0===t?"":t},set:function(t){var e=b()(t);!e||e<=0||e>=v.a?(this.errors.maximumNumber="Invalid number",this.$store.commit("updateConfigMaximumNumber",0)):(this.errors.maximumNumber="",this.$store.commit("updateConfigMaximumNumber",e))}},speed:{get:function(){return this.$store.state.config.speed},set:function(t){this.$store.commit("updateConfigSpeed",t)}},count:{get:function(){return this.$store.state.config.count},set:function(t){this.$store.commit("updateConfigCount",t)}},voice:{get:function(){return this.$store.state.config.voice},set:function(t){this.$store.commit("updateConfigVoice",t)}},delay:{get:function(){return this.$store.state.config.delay},set:function(t){this.$store.commit("updateConfigDelay",t)}},availableVoices:function(){return responsiveVoice.voiceSupport()?(this.errors.voice="",responsiveVoice.getVoices().map(function(t){return t.name})):(this.errors.voice="TTS is not supported by your browser",[])},configValid:function(){var t=this.maximumNumber,e=this.voice;return e&&t&&t>0&&t<v.a}}},y=_,x=(n("bb85"),Object(u["a"])(y,f,m,!1,null,null,null)),C=x.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container audition-container"},[n("div",{staticClass:"app-content"},[n("audition-progress-bar",{staticClass:"audition-progress",attrs:{animate:t.animateProgress,duration:t.session.delay}},[t._v(t._s(t.inputMessage(t.currentIndex)))]),n("b-field",{attrs:{label:t.session.voice}},[n("b-input",{ref:"input",attrs:{autofocus:"",tabindex:"0",type:"number"},model:{value:t.currentInput,callback:function(e){t.currentInput=e},expression:"currentInput"}})],1),n("div",{staticClass:"buttons audition-button-container"},[n("button",{staticClass:"button is-danger",on:{click:t.cancel}},[t._v("CANCEL")]),n("button",{staticClass:"button is-primary",on:{click:t.end}},[t._v("FINISH")])])],1)])},$=[];n("ac6a");function A(){responsiveVoice.isPlaying()&&responsiveVoice.cancel()}function I(t){var e=t.text,n=t.voice,i=t.speed,s=t.onstart,r=void 0===s?null:s,o=t.onend,a=void 0===o?null:o;A(),responsiveVoice.speak(e,n,{rate:i,onstart:r,onend:a})}function S(t,e,n){return N(t),t.__TIMER_ID=setTimeout(function(){N(t),n()},e),{dispose:function(){N(t)}}}function N(t){t.__TIMER_ID&&(clearTimeout(t.__TIMER_ID),t.__TIMER_ID=null)}var k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"audition-progress-container"},[n("div",{staticClass:"audition-progress-bar",style:t.progressClass}),n("div",{staticClass:"audition-progress-content"},[t._t("default")],2)])},T=[],E={props:["duration","animate"],computed:{progressClass:function(){return{width:this.animate?"100%":"0",height:"100%",transition:"width ".concat(this.animate?this.duration:0,"s ease-in-out")}}}},M=E,O=(n("9133"),Object(u["a"])(M,k,T,!1,null,null,null)),j=O.exports,P={data:function(){return{currentIndex:-1,currentInput:"",animateProgress:!1}},components:{AuditionProgressBar:j},methods:{inputMessage:function(t){return t<0?null:"".concat(t+1," / ").concat(this.entriesLength)},next:function(){var t=this;this.animateProgress=!0,this.inputFocus(),S(this,1e3*this.session.delay,function(){t.currentIndex>-1&&(t.saveAnswer(t.currentIndex,t.currentInput),t.currentInput="");var e=t.currentIndex+1;e>=t.entriesLength?t.end():(t.animateProgress=!1,t.currentIndex=e,t.inputFocus(),t.play())})},end:function(){N(this),this.$store.commit("endAudition")},cancel:function(){N(this),this.$store.commit("cancelAudition")},play:function(){var t=this.entries[this.currentIndex];I({text:t.number,voice:this.session.voice,speed:this.session.speed,onend:this.next})},saveAnswer:function(t,e){this.entries[t].answer=e},inputFocus:function(){this.$refs.input.$el.querySelector("input").focus()}},computed:{entries:{get:function(){return this.$store.state.session.entries}},entriesLength:{get:function(){return this.entries.length}},session:{get:function(){return this.$store.state.session}}},mounted:function(){this.next()},destroyed:function(){N(this),A()}},V=P,F=(n("46e6"),Object(u["a"])(V,w,$,!1,null,null,null)),R=F.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"app-content"},[n("h1",{staticClass:"title is-3"},[t._v(t._s(t.session.voice))]),n("h2",{staticClass:"subtitle is-5"},[t._v(t._s(t.stats))]),n("div",{staticClass:"results-container"},[n("table",{staticClass:"table is-bordered is-hoverable is-fullwidth"},[t._m(0),t._m(1),n("tbody",t._l(t.results,function(e,i){return n("tr",{key:i,staticClass:"results-row",class:{"results-row__error":!e.success},on:{click:function(n){return t.play(e.number)}}},[n("td",[n("b-icon",{attrs:{icon:e.success?"check":"close"}})],1),n("td",[t._v(t._s(e.number))]),n("td",[t._v(t._s(e.answer||"-"))])])}),0)]),n("div",{staticClass:"results-buttons"},[n("button",{staticClass:"button is-info is-medium",on:{click:t.retry}},[n("b-icon",{attrs:{icon:"autorenew"}}),n("span",[t._v("RETRY")])],1),n("button",{staticClass:"button is-primary is-medium",on:{click:t.startNew}},[n("b-icon",{attrs:{icon:"check"}}),n("span",[t._v("START NEW")])],1)])])])])},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("colgroup",[n("col"),n("col",{staticStyle:{width:"50%"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"50%"},attrs:{span:"1"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th"),n("th",[t._v("Number")]),n("th",[t._v("Your answer")])])])}],H={methods:{isError:function(t){return t.number!==t.answer},play:function(t){I({text:t,voice:this.session.voice,speed:this.session.speed})},retry:function(){this.$store.commit("retryAudition")},startNew:function(){this.$store.commit("cancelAudition")}},destroyed:function(){A()},computed:{session:{get:function(){return this.$store.state.session}},entries:{get:function(){return this.$store.state.session.entries}},stats:{get:function(){var t=this,e=this.entries.filter(function(e){return!t.isError(e)}).length,n=this.entries.length,i=Math.floor(e/n*100);return"".concat(e,"/").concat(n," (").concat(i,"%)")}},results:{get:function(){var t=this,e=this.entries;return e.map(function(e){return{number:e.number,answer:e.answer,success:!t.isError(e)}})}}}},J=H,Y=(n("3c6b"),Object(u["a"])(J,D,L,!1,null,null,null)),q=Y.exports,B={name:"app",components:{AppHeader:d,AuditionConfig:C,Audition:R,AuditionResults:q},computed:{isAuditionInProgress:{get:function(){var t=this.$store.state.session;return t.isStarted&&!t.isFinished}},isAuditionFinished:{get:function(){var t=this.$store.state.session;return t.isStarted&&t.isFinished}}}},W=B,z=(n("5c0b"),Object(u["a"])(W,s,r,!1,null,null,null)),G=z.exports,K=n("cebc"),Q=n("2f62");i["default"].use(Q["a"]);var U=new Q["a"].Store({state:{config:{maximumNumber:0,speed:"normal",count:10,voice:"",delay:2},session:{isStarted:!1,isFinished:!1}},mutations:{updateConfigMaximumNumber:function(t,e){t.config.maximumNumber=e},updateConfigSpeed:function(t,e){t.config.speed=e},updateConfigCount:function(t,e){t.config.count=e},updateConfigVoice:function(t,e){t.config.voice=e},updateConfigDelay:function(t,e){t.config.delay=e},startAudition:function(t,e){t.session=e},endAudition:function(t){t.session.isFinished=!0},cancelAudition:function(t){t.session.isStarted=!1},retryAudition:function(t){t.session.isStarted=!0,t.session.isFinished=!1,t.session.entries=t.session.entries.map(function(t){return Object(K["a"])({},t,{answer:""})})}}}),X=n("8a03"),Z=n.n(X);i["default"].use(Z.a),i["default"].config.productionTip=!1,new i["default"]({store:U,render:function(t){return t(G)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("5e27"),s=n.n(i);s.a},"5e27":function(t,e,n){},7933:function(t,e,n){},9133:function(t,e,n){"use strict";var i=n("a376"),s=n.n(i);s.a},a292:function(t,e,n){},a376:function(t,e,n){},bb85:function(t,e,n){"use strict";var i=n("7933"),s=n.n(i);s.a},d512:function(t,e,n){}});
//# sourceMappingURL=app.c29ed203.js.map